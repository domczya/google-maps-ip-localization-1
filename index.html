<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <style type="text/css">
            html { height: 100% }
            body { height: 100%; margin: 0px; padding: 0px }
            #map_canvas { height: 100%; background-color: #666970; }
        </style>

        <script type="text/javascript"
                src="https://maps.googleapis.com/maps/api/js?key=
                AIzaSyBnNYRdJRM3Tn5vY_LO1AgCgo4p9cdETaA&sensor=false">
        </script>
        <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
        </script>

    </head>

    <body onload="initialize()">
    <div id="map_canvas" style="width:100%; height:100%"></div>

        <!-- Add your site or application content here -->

        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
         <script>
             var url = "http://freegeoip.net/json/";
             var ip = ["82.30.77.27","82.30.77.27","179.108.188.167","188.146.235.33"];

             function initialize() {
                 var mapOptions = {
                     center: new google.maps.LatLng(50, 22),
                     zoom: 3,
                     mapTypeId: google.maps.MapTypeId.ROADMAP
                 };
                 var map = new google.maps.Map(document.getElementById("map_canvas"),
                     mapOptions);
                 var markerCluster = new MarkerClusterer(map, [], {
                     imagePath: "images/m"
                 });
                 var markers = [];

                 for (var i = 0; i < ip.length; i++) {
                     $.get(url + "" + ip[i], function (data) {
                         //console.log(data);
                         var marker = new google.maps.Marker({
                             position: {lat: data.latitude, lng: data.longitude}
                         });

                         markers.push(marker);
                         markerCluster.addMarker(marker);


                     });
                 }

             }

         </script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>

    </body>
</html>
